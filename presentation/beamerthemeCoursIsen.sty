\mode<presentation>
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Requirement
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage[french]{babel}
%% Mathématiques
\usepackage{amsmath, amssymb, amsfonts}
\usepackage{bigints}
\usepackage{eurosym}
\usepackage{empheq}
%% Graphiques et Figures
\usepackage{subfiles}
\usepackage{graphicx, wrapfig, xcolor}
\usepackage{fancybox}
\usepackage{colortbl}
\usepackage{tabularx}
\usepackage{caption}
\usepackage{tikz}
\usetikzlibrary{shapes,arrows,calc,positioning}
\usepackage{pgfplots}
\pgfplotsset{compat=newest}%Compatibilit\'e pour pgfplot
%% Pour le style, redéfinition de itemize
\usepackage{ragged2e}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Custom colors definition
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usetheme{Frankfurt}
\usecolortheme{default}
\definecolor{bluetitle}{rgb}{0.5,0.5,1}
% Couleurs ISEN
\definecolor{redisen}{RGB}{227,6,19}
\definecolor{grayisen}{RGB}{192,196,208}
\definecolor{grayisen1}{RGB}{172,176,188}
\definecolor{grayisen2}{RGB}{92,96,108}
\usefonttheme{professionalfonts}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Custom beamer
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Numérotation des pages
% \addtobeamertemplate{footline}{\hfill\insertframenumber/\inserttotalframenumber}
\addtobeamertemplate{footline}{\hfill\insertframenumber}
\def\setbeamercovered{invisible}
\def\setbeamercovered{transparent}
% Couleurs blocs
\setbeamercolor{title}{fg=white, bg=grayisen1}
\setbeamercolor{redisenBeamerColor}{fg=white, bg=redisen}
\setbeamercolor{frametitle}{fg = black, bg=white}
\setbeamercolor{section in head/foot}{fg=black, bg=grayisen1}
\setbeamercolor{author in head/foot}{fg=white, bg=grayisen1}
\setbeamercolor{company in head/foot}{fg=white, bg=redisen}
\setbeamercolor{structure}{bg=white, fg=grayisen}
\setbeamercolor{item projected}{bg=redisen}
% Taille header/footer
\setbeamerfont{footline}{size=\fontsize{7}{7}\selectfont}
\setbeamerfont{headline}{size=\fontsize{7}{7}\selectfont}
% Couleur et puces du sommaire
\setbeamercolor{section in toc}{fg=grayisen2}
\setbeamertemplate{sections/subsections in toc}[circle]
\setbeamercolor{section number projected}{bg=redisen,fg=white}
% Puces des listes
\setbeamertemplate{itemize item}[circle]
\setbeamertemplate{itemize subitem}[circle]
\setbeamertemplate{itemize subsubitem}[circle]
% Couleur des titres de tableaux et figures
\setbeamercolor{caption name}{fg=grayisen2}
\setbeamertemplate{caption}[numbered]
%% Pour le style, redéfinition de itemize
\makeatletter
\renewcommand{\itemize}[1][]{
  \beamer@ifempty{#1}{}{\def\beamer@defaultospec{#1}}
  \ifnum \@itemdepth >2\relax\@toodeep\else
    \advance\@itemdepth\@ne
    \beamer@computepref\@itemdepth
    \usebeamerfont{itemize/enumerate \beameritemnestingprefix body}
    \usebeamercolor[fg]{itemize/enumerate \beameritemnestingprefix body}
    \usebeamertemplate{itemize/enumerate \beameritemnestingprefix body begin}
    \list
      {\usebeamertemplate{itemize \beameritemnestingprefix item}}
      {\def\makelabel##1{
          {
            \hss\llap{{
                \usebeamerfont*{itemize \beameritemnestingprefix item}
                \usebeamercolor[fg]{itemize \beameritemnestingprefix item}##1}}
          }
        }
      }
  \fi
  \beamer@cramped
  \justifying
  \beamer@firstlineitemizeunskip
}
\makeatother

\defbeamertemplate*{title page}{myspecial}[1][]
{
    \vbox{}
    \vfill
    \begingroup
    \centering
    \begin{beamercolorbox}[sep=8pt,center,#1]{redisenBeamerColor}
        \usebeamerfont{title}\inserttitle\par%
        \ifx\insertsubtitle\@empty%
        \else%
        \vskip0.25em%
        {\usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle\par}%
        \fi%
    \end{beamercolorbox}%
    \vskip1em\par
    \begin{beamercolorbox}[sep=8pt,center,#1]{author}
        \usebeamerfont{author}\insertauthor
    \end{beamercolorbox}
    \begin{beamercolorbox}[sep=8pt,center,#1]{institute}
        \usebeamerfont{institute}\insertinstitute
    \end{beamercolorbox}
    \begin{beamercolorbox}[sep=8pt,center,#1]{date}
        \usebeamerfont{date}\insertdate
    \end{beamercolorbox}\vskip0.5em
    {\usebeamercolor[fg]{titlegraphic}\inserttitlegraphic\par}
    \endgroup
    \vfill
    %%%%%%%%%% added footline from split
    \leavevmode%
    \scriptsize%\tiny%
    \hbox{
     % \hspace{-0.2cm}
     \hspace{-1.3cm}
     \begin{beamercolorbox}[wd=.25\paperwidth,ht=2.25ex,dp=1ex,center]{company in head/foot}%
      \usebeamerfont{company in head/foot} \insertshortauthor
     \end{beamercolorbox}

     \begin{beamercolorbox}[wd=.5\paperwidth,ht=2.25ex,dp=1ex,center]{author in head/foot}%
      \usebeamerfont{author in head/foot} \null%\inserttitle
     \end{beamercolorbox}

     \begin{beamercolorbox}[wd=.25\paperwidth,ht=2.25ex,dp=1ex,left]{company in head/foot}%
      \usebeamerfont{company in head/foot} \hspace*{2.75em}www.isen.fr \hspace*{0.5em}

      % \insertframenumber{}{}\hspace*{4ex}
      % \insertframenumber{}/\inserttotalframenumber{}\hspace*{4ex}
     \end{beamercolorbox}
    }
    \vskip0pt%
}


% Taille et fond du titre de chaque diapositive
\makeatletter
\setbeamertemplate{frametitle}
{
% \begin{tikzpicture}[remember picture,overlay]
%     \node[xshift=-1.1cm,yshift=-4.2cm] at (current page.north east) {Salut};
%     % \draw[xshift=-1.1cm,yshift=-4.2cm,red,very thick] (current page.north east) --++ (-1,0);
% \end{tikzpicture}
\ifbeamer@plainframe%
    \vskip-5pt
\begin{beamercolorbox}[wd=\paperwidth,ht=2.25ex,dp=1ex,center]{author in head/foot}%
\end{beamercolorbox}
    \begin{tikzpicture}[remember picture,overlay]
        \node[xshift=-1.1cm,yshift=-1.2cm] at (current page.north east) {\includegraphics[width=2cm]{ISEN-Brest_horizontal.jpg}};

% \node[minimum width=\paperwidth, minimum height=\paperheight] (current page.north west) {};
% \draw [very thick] (current page.north west) -- (current page.south east)--(current page.north east)--(current page.north west) -- (current page.south west)--(current page.north east);
% \draw [red,very thick] (current page.north east) -- ++(-0.6,0) -- ($(current page.south east)+(-0.6,0)$)-- (current page.south east);
\draw [redisen!80!black,thin] ($(current page.north east)+(0,-2.95)$) --++(-0.6,0.65);
\draw [redisen!80!black,thin] ($(current page.north east)+(0,-3.7)$) --++(-0.6,0.65);
\draw [redisen!80!black,thin] ($(current page.north east)+(0,-4.45)$) --++(-0.6,0.65);
\draw [redisen!80!black,thin] ($(current page.north east)+(0,-5.2)$) --++(-0.6,0.65);
\draw [redisen!80!black,thin] ($(current page.north east)+(0,-5.95)$) --++(-0.6,0.65);
\draw [redisen!80!black,thin] ($(current page.north east)+(0,-6.7)$) --++(-0.6,0.65);
\draw [redisen!80!black,thin] ($(current page.north east)+(0,-7.45)$) --++(-0.6,0.65);
\draw [redisen!80!black,thin] ($(current page.north east)+(0,-8.2)$) --++(-0.6,0.65);


    \end{tikzpicture}
\else
\nointerlineskip
\begin{beamercolorbox}[sep=0.3cm,ht=3.2em,wd=\paperwidth]{frametitle}
    \vbox{}
    \vskip-2ex
    \strut\insertframetitle\strut
    \hfill
    \begin{tikzpicture}[remember picture,overlay]
        \node[xshift=-1.1cm,yshift=-1.2cm] at (current page.north east) {\includegraphics[width=2cm]{ISEN-Brest_horizontal.jpg}};
        \draw [redisen!80!black,thin] ($(current page.north east)+(0,-2.95)$) --++(-0.6,0.65);
        \draw [redisen!80!black,thin] ($(current page.north east)+(0,-3.7)$) --++(-0.6,0.65);
        \draw [redisen!80!black,thin] ($(current page.north east)+(0,-4.45)$) --++(-0.6,0.65);
        \draw [redisen!80!black,thin] ($(current page.north east)+(0,-5.2)$) --++(-0.6,0.65);
        \draw [redisen!80!black,thin] ($(current page.north east)+(0,-5.95)$) --++(-0.6,0.65);
        \draw [redisen!80!black,thin] ($(current page.north east)+(0,-6.7)$) --++(-0.6,0.65);
        \draw [redisen!80!black,thin] ($(current page.north east)+(0,-7.45)$) --++(-0.6,0.65);
        \draw [redisen!80!black,thin] ($(current page.north east)+(0,-8.2)$) --++(-0.6,0.65);
    \end{tikzpicture}
    \vskip-0.8ex
    \strut\small\insertframesubtitle\strut
\end{beamercolorbox}
\fi
}
\makeatother
\makeatletter
  \CheckCommand*\beamer@checkframetitle{%
    \@ifnextchar\bgroup\beamer@inlineframetitle{}}
  \renewcommand*\beamer@checkframetitle{%
    \global\let\beamer@frametitle\relax\@ifnextchar%
    \bgroup\beamer@inlineframetitle{}}
\makeatother

\addtobeamertemplate{frametitle}{
  \ifx\insertframetitle\empty
    \ifx\insertframesubtitle\empty
      \ifx\insertsubsection\empty
        \frametitle{\insertsectionhead}
      \else
        \frametitle{\insertsectionhead}\framesubtitle{\insertsubsectionhead}
      \fi
    \else
    \fi
    \else
    \fi
 }{}
%% Sommaire automatique à chaque début de section
\AtBeginSection[] {
  \begin{frame}{Sommaire}
  \null
\vspace{-1.6cm}
    \tableofcontents[currentsection,currentsubsection,hideothersubsections]
    \end{frame}
}
%% Foot notes
\setbeamertemplate{footline}{
  \leavevmode
    \hbox{\hspace{-0.2cm}
    \begin{beamercolorbox}[wd=.25\paperwidth,ht=2.25ex,dp=1ex,center]{company in head/foot}%
      \usebeamerfont{company in head/foot} \insertshortauthor
    \end{beamercolorbox}

    \begin{beamercolorbox}[wd=.5\paperwidth,ht=2.25ex,dp=1ex,center]{author in head/foot}%
        \usebeamerfont{author in head/foot} \inserttitle
    \end{beamercolorbox}

    \begin{beamercolorbox}[wd=.25\paperwidth,ht=2.25ex,dp=1ex,left]{company in head/foot}%
        \usebeamerfont{company in head/foot}  \hspace*{2.75em}www.isen.fr \hspace*{0.5em}
        \insertframenumber{}{}\hspace*{4ex}
        % \insertframenumber{}/\inserttotalframenumber{}\hspace*{4ex}
    \end{beamercolorbox}
    }
    \vskip0pt
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Custom tikz
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\tikzset{%
  block/.style    = {draw, thick, rectangle, minimum height = 3em,
    minimum width = 3em},
    cross/.style={path picture={
  \draw[black]
(path picture bounding box.south east) -- (path picture bounding box.north west) (path picture bounding box.south west) -- (path picture bounding box.north east);
}},
  comparo/.style      = {draw, circle, cross, node distance = 2cm}, % Adder
  input/.style    = {coordinate}, % Input
  output/.style   = {coordinate} % Output
}
\newdimen\XCoord
\newdimen\YCoord
\newcommand*{\ExtractCoordinate}[1]{\path (#1); \pgfgetlastxy{\XCoord}{\YCoord};}%
\newcommand*{\LabelCurrentCoordinate}[2]{\fill [#1] ($(\XCoord,\YCoord)$) circle (2pt) node [right] {#2}}%
%Pour avoir la grille en dessous des dessins
\makeatletter \newcommand{\pgfplotsdrawaxis}{\pgfplots@draw@axis} \makeatother
\pgfplotsset{axis line on top/.style={
  axis line style=transparent,
  ticklabel style=transparent,
  tick style=transparent,
  axis on top=false,
  after end axis/.append code={
    \pgfplotsset{axis line style=opaque,
      ticklabel style=opaque,
      tick style=opaque,
      grid=none}
    \pgfplotsdrawaxis}
  }
}
%Config pour les axes standard
\pgfplotsset{
    standard/.style={
        axis x line=middle,
        axis y line=middle,
        axis on top,
        enlarge x limits=0.05,
        enlarge y limits=0.05,
        every axis x label/.style={at={(current axis.right of origin)},anchor=west,font=\small},
        every axis y label/.style={at={(current axis.above origin)},anchor=south,font=\small},
        tick label style={font=\tiny},
        smooth
        }
}
\newcommand{\intval}[1]{\left[#1\right]}
\newcommand{\intvalrn}[1]{\left[\mathbf{#1}\right]}
\newcommand{\tube}[2]{\left[#1\right]\left(#2\right)}
\newcommand{\tubern}[2]{\left[\mathbf{#1}\right]\left(#2\right)}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Custom environnement
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Nouveau type de bloc
\newenvironment<>{varblock}[2][\textwidth]{
    \begin{center}
      \begin{minipage}{#1}
        \setlength{\textwidth}{#1}
          \begin{actionenv}#3
            \def\insertblocktitle{#2}
            \par
            \usebeamertemplate{block begin}}
  {\par
      \usebeamertemplate{block end}
    \end{actionenv}
  \end{minipage}
\end{center}}
%Nouveaux théorèmes
\newtheorem{remark}[theorem]{Remarque}
\newtheorem{Exercice}{Exercice}
% Hashtag cestimportant
\def\cestimportant{\begin{center}\includegraphics[height=11pt]{twitter.jpeg}\includegraphics[height=11pt]{fb.jpeg}\emph{\textcolor{redisen}{\#cestimportant}}\end{center}}
\mode
<all>
